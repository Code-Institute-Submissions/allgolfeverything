{% extends 'base.html'%}
{% block content %}
<div class="jumbotron">
	<div class="container">
		<div class="card main-card">
			<h1 class="display-4">Edit Review</h1>
			<p class="lead">Edit a review already written</p>
			<p>Click submit to be sent back to the review page where you can look over your changes.
			</p>
		</div>
	</div>
</div>

<div class="container">
	<div class="row no-gutters justify-content-center">
		<div class="col-xs-12">
			<div class="card text-white bg-dark">
				<div class="lead card-header">Edit your review<i class="material-icons btn-icon float-right">
                            edit</i></div>
				<div class="card-body">
					<form action="{{ url_for('update_review', review_id=review._id) }}" method="POST" class="col s12">
						<div class="row no-gutters">
							<label class="lead" for="Title">Title</label>
							<textarea id="review_text" class="form-control" name="review_title"  type="text" rows="1" class="form-control">{{review.review_title}}</textarea> 
						</div>
						<div class="row no-gutters">
							<label class="lead" for="Choose Category">Category (A-Z)</label>
							<select class = "form-control" id="category" name="category_name">
                    <option value="" disabled selected>Choose Category</option>
                {% for category in category %}      
                    {% if category.category_name == review.category_name %}
                        <option value="{{category.category_name}}" selected >{{category.category_name}}</option>
                        {% else %}
                        <option value="{{category.category_name}}">{{category.category_name}}</option>
                    {% endif %}
                {% endfor %}
                </select>
						</div>

						<div class="row no-gutters">
							<label class="lead" for="Choose Brand">Brand (A-Z)</label>
							<select class = "form-control" id="brand" name="brand_name">
                    <option value="" disabled selected>Choose Brand</option>
                {% for brands in brands %}
                    {% if brands.brand_name == review.brand_name %}      
                        <option value="{{brands.brand_name}}" selected >{{brands.brand_name}}</option>
                    {% else %}
                        <option value="{{brands.brand_name}}">{{brands.brand_name}}</option>
                    {% endif %}
                {% endfor %}
                </select>
						</div>

						<div class="row no-gutters">
							<label class="lead" for="Choose Model">Model (A-Z)</label>
							<select class = "form-control" id="model" name="model_name">
                    <option value="" disabled selected>Choose Model</option>
                {% for models in models %}      
                    {% if models.model_name == review.model_name %}   
                        <option value="{{models.model_name}}" selected>{{models.model_name}}</option>
                    {% else %}
                        <option value="{{models.brand_name}}">{{models.model_name}}</option>
                   {% endif %}
                {% endfor %}
                </select>
						</div>
						<div class="row no-gutters">
							<label class="lead" for="Score">Score</label>
							<select class = "form-control" id="model" name="score">
                    <option value="" disabled selected>Score</option>
                {% for score in score %}
                    {% if score.score == review.score %}         
                        <option value= "{{score.score}}" selected>{{score.score}}</option>
                     {% else %}
                        <option value="{{score.score}}">{{score.score}}</option>
                    {% endif %}
                {% endfor %}
                </select>
						</div>
						<div class="row no-gutters">
							<label class="lead" for="Review Text">Contents & Image</label>
							<textarea name="review_text" class="form-control" id="review_text" rows="5">{{review.review_text}}</textarea>
						</div>
						<div class="row no-gutters">
							<div class="input-group mb-3 col">
								<div class="input-group-prepend">
									<span class="input-group-text" id="URL">URL</span>
								</div>
								<input type="text" name="image_url" value ="{{review.image_url}}" class="form-control" id="basic-url" aria-describedby="image url">
                            </div>
							</div>

							<div class="form-group">
								<input id="review_text" name="upvote"  type="hidden" value ="{{review.upvote}}" class="form-control" readonly></input>
							</div>
							<div class="form-group">
								<input id="author" name="author"  type="hidden" value ="{{review.author}}" class="form-control" readonly></input>
							</div>
							<button class="btn d-flex align-items-center" type="submit">Submit Review</i><i class="material-icons btn-icon">
                            send</i>
                </button>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

{% endblock %}