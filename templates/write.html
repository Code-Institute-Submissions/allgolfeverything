{% extends 'base.html' %} {% block content %}
<section class="main">
	<div class="jumbotron main-image">
		<div class="container">
			<h1 class="display-4">Contribute</h1>
			<p class="lead">Write your review for the community below!</p>
			<hr class="my-4">
			<p>Choose your category, brand, model and then write your review. Don't forget to add an image link so we
				can see
				for ourselves!
			</p>
		</div>
	</div>
</section>

<form action="/insert_review" method="POST">
	<div class="container">
		<div class="review-card">
			<div class="form-group">
				<label for="Choose Category"></label>
				<select class = "form-control" id="category" name="category_name">
       <option value="" disabled selected>Choose Category</option>
                {% for category in category %}      
                        <option value="{{category.category_name}}">{{category.category_name}}</option>
                    {% endfor %}
    </select>
			</div>
			<div class="form-group">
				<label for="Choose Brand"></label>
				<select class = "form-control" id="brand" name="brand_name">
        <option value="" disabled selected>Choose Brand</option>
                {% for brands in brands %}      
                        <option value="{{brands.brand_name}}">{{brands.brand_name}}</option>
                    {% endfor %}
    </select>
				<div class="col s4">
					<a class="button" data-toggle="modal" href="#brandmodal">
						<i class="material-icons">add_circle_outline</i>
					</a>
				</div>
			</div>
			<div class="form-group">
				<label for="Choose Model"></label>
				<select class = "form-control" id="model" name="model_name">
        <option value="" disabled selected>Choose Model</option>
                {% for models in models %}      
                        <option value="{{models.model_name}}">{{models.model_name}}</option>
                    {% endfor %}
                </select>
			</div>
			<div class="col s4">
				<a class="button" data-toggle="modal" href="#modelmodal">
					<i class="material-icons">add_circle_outline</i>
				</a>
			</div>
			<div class="form-group">
				<label for="Choose Model"></label>
				<select class = "form-control" id="score" name="score">
        <option value="" disabled selected>Score</option>
                {% for score in score %}      
                        <option value="{{score.score}}">{{score.score}}</option>
                    {% endfor %}
                </select>
			</div>
			<div class="form-group">
				<label for="exampleFormControlTextarea1">Write your review here</label>
				<textarea name="review_text" class="form-control" id="exampleFormControlTextarea1" rows="5"></textarea>
			</div>
			<label for="basic-url">Your Image URL</label>
			<div class="input-group mb-3">
				<div class="input-group-prepend">
					<span class="input-group-text" id="basic-addon3">URL</span>
				</div>
				<input type="text" name="image_url" class="form-control" id="basic-url" aria-describedby="basic-addon3">
</div>
				<div class="col-sm8">
					<button class="btn waves-effect waves-light" type="submit">Submit Review<i class="material-icons right">send</i>
                </button>
				</div>
			</div>
		</div>
</form>

<div class="modal fade" id="brandmodal" tabindex="-1" role="dialog" aria-labelledby="brandmodal" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLongTitle">Add a new brand to database</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
			</div>
			<div class="modal-body">
				<form action="{{ url_for('insert_brand') }}" method="POST" class="col-sm12">
					<div class="row">
						<div class="input-field col s12">
							<i class="material-icons prefix">poll</i>
							<input id="brand_name" name="brand_name" type="text" class="validate" required>
							<label for="brand_name"></label>
						</div>
					</div>
					<div class="row">
						<button class="btn btn-primary" type="submit">Add Brand
            <i class="material-icons right">send</i>
        </button>
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="" data-dismiss="modal">Cancel</button>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="modelmodal" tabindex="-1" role="dialog" aria-labelledby="modelmodal" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLongTitle">Add a new model to database</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
			</div>
			<div class="modal-body">
				<form action="{{ url_for('insert_model') }}" method="POST" class="col-sm12">
					<div class="row">
						<div class="input-field col s12">
							<i class="material-icons prefix">poll</i>
							<input id="model_name" name="model_name" type="text" class="validate" required>
							<label for="model_name"></label>
						</div>
					</div>
					<div class="row">
						<button class="btn btn-primary" type="submit">Add Model
            <i class="material-icons right">send</i>
        </button>
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="" data-dismiss="modal">Cancel</button>
			</div>
		</div>
	</div>
</div>

{% endblock %}